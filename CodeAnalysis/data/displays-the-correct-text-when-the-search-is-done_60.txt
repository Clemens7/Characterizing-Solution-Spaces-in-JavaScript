class Artwork{
    
}

var ids;
window.onload = init();
function init(){
  const urlParams = new URLSearchParams(window.location.search);
  if(urlParams.has('q')){
    const searchParam = urlParams.get('q');
    document.getElementById('search-info').innerHTML = 'Searching for &#8220;' + searchParam + '&#8221;...';
    console.log(searchParam);
    const images = retrieveTerm(searchParam);
  }
  try{
    var cart = JSON.parse(window.localStorage.getItem("cart"));
    if(cart.length===0
  }catch(ex){
  }

  const form = document.querySelector('#searchForm')
  form.addEventListener('submit' , )
}

async function retrieveID(searchTerm) {
    let ids;

    if(searchTerm == null || searchTerm === '')
    else{
        const url = `https://collectionapi.metmuseum.org/public/collection/v1/search?hasImages=true&q=${searchTerm}`;
        console.log(url);

        try{
            const response = await fetch(url);
            const rawData = await response.json();
            ids = await rawData.objectIDs;
        }
        
    }
    return ids;
}





async function retrieveTerm(searchTerm){
    ids = await retrieveID(searchTerm);
    console.log(ids)
    if(ids===null){
      document.getElementById('search-info').innerHTML = 'Found 0 artworks for &#8220;' + searchTerm +'&#8221;';
    }
    return null;
}
