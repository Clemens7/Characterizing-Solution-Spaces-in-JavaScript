let storage = window.localStorage;

const urlParams = new URLSearchParams(location.search);

const printSize = urlParams.get('printSize');
const frameStyle = urlParams.get('frameStyle');
const frameWidth = urlParams.get('frameWidth');
const matColor = urlParams.get('matColor');
const matWidth = urlParams.get('matWidth');

let selectedPrintSize;
let selectedFrameStyle;
let selectedFrameWidth;
let selectedMatColor;
let selectedMatWidth;

document.addEventListener('DOMContentLoaded', presetFrameConfigurator(printSize, frameStyle, frameWidth, matColor, matWidth));

const objectId = urlParams.get('objectID');
retrieveArtworkObject(objectId);

var sizeInputs = document.querySelectorAll('.segmented input');
var framestyleinputs = document.querySelectorAll('.frame-style-row input');
var matcolorrowinputs = document.querySelectorAll('.mat-color-row input');
addEventListenersToRemainingInputs();

var frameRange = document.getElementsByName('frameWidthR')[0];
var frameField = document.getElementsByName('frameWidth')[0];

frameRange.addEventListener('input', );
frameField.addEventListener('input', );







var matRange = document.getElementsByName('matWidthR')[0];
var matField = document.getElementsByName('matWidth')[0];


matRange.addEventListener('input', );
matField.addEventListener('input', );




function addEventListenersToRemainingInputs() {
    for (input of sizeInputs) {
        input.addEventListener('change', );
    }

    for (input of framestyleinputs) {
        input.addEventListener('change', );
    }
    for (input of matcolorrowinputs) {
        input.addEventListener('change', );
    }
}




async function retrieveArtworkObject(objectId) {

    if (storage.getItem("artObj" + objectId) != null) 

    if (objectId === undefined || objectId === null)  else {
        const response = await fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/" + objectId)
            .then(response => {
                if (response.status === 404)  else {
                    response.json().then(_ => {
                        var image = document.getElementById("preview-image");
                        image.setAttribute("src", _.primaryImageSmall);
                        var label = document.getElementById("image-label");
                        label.innerText = _.artistDisplayName + " " + _.title + " " + _.objectDate;
                        storage.setItem("artObj" + objectId, JSON.stringify(_));
                    })
                }
            })

    }
}


function presetFrameConfigurator(printSize, frameStyle, frameWidth, matColor, matWidth) {

    document.getElementById("addtocartbutton").disabled = true;

    var small = document.getElementById("print-size-s");
    var medium = document.getElementById("print-size-m");
    var large = document.getElementById("print-size-l");
    if (printSize === "S") 
    if (printSize === "M") 
    if (printSize === "L") 

    if (frameStyle === "classic") 
    if (frameStyle === "natural") 
    if (frameStyle === "shabby") 
    if (frameStyle === "elegant") 


    if (frameWidth) 

    if (matColor === "ivory") 
    if (matColor === "mint") 
    if (matColor === "wine") 
    if (matColor === "indigo") 
    if (matColor === "coal") 

    if (matWidth) 
}











document.getElementById("price").innerText = "â‚¬ 66.95";


artworks = JSON.parse(localStorage.getItem('cart'));

if (artworks === null) {
    let empty = [];
    localStorage.setItem('cart', JSON.stringify(empty));
}

let cartLink = document.getElementById('cart-link');

if (artworks.length !== 0) 